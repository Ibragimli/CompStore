@model CreateViewModel
@{
    var i = 0;
}
<div class="content-wrapper">
    <!-- Content -->
    <div class="container-xxl flex-grow-1 container-p-y">
        <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">Forms /</span> Basic Inputs</h4>

        <div class="row">
            <div class="col-12">
                <div class="card mb-4">
                    <h5 class="card-header">Default</h5>
                    <div class="card-body">
                        <form asp-action="create" method="post" enctype="multipart/form-data">
                            <div class="row">
                                <div asp-validation-summary="ModelOnly" class="text-danger"> </div>





                                @* Kategori *@
                                <div class="select1 col-6">
                                    <label asp-for="CategoryBrand.CategoryId" class="form-label">Kategori</label>
                                    <input style="display:inline-block; width:50%; margin-bottom:2px;" class="form-control" type="text" placeholder="Search.." onkeyup="filterFunction()" id="categoriInput" />
                                    <select onchange="catFunc()" asp-for="CategoryBrand.CategoryId" id="categorySelect" class="form-select" size="3" aria-label="size 3 select example">
                                        @foreach (var item in Model.Categorys)
                                        {
                                            <option data-id="@item.Id" id="categoryOption" value="@item.Id">@item.Name</option>
                                        }
                                    </select>
                                    <span asp-validation-for="CategoryBrand.CategoryId" class="text-danger"></span>
                                </div>

                                @* Brand *@
                                <div class="select2 col-6">
                                    <div>
                                        <label asp-for="CategoryBrand.BrandId" class="form-label">Brand</label>
                                        <select id="brandSelect" asp-for="CategoryBrand.BrandId" class="form-select" size="5" aria-label="size 3 select example">

                                            @foreach (var item in Model.Brands)
                                            {
                                                <option data-id="@item.Id" id="brandOption" value="@item.Id">@item.Name</option>
                                            }
                                        </select>
                                        <span asp-validation-for="CategoryBrand.BrandId" class="text-danger"></span>
                                    </div>
                                </div>

                                @*CategoryBrandIds.Where(x => x.CategoryId == 1).Select(x => x.Brand)*@

                                @* Model *@
                                <div class="select2 col-6">
                                    <div>
                                        <label asp-for="Model" class="form-label">Model</label>
                                        <select id="brandSelect" asp-for="Model.Id" class="form-select" size="6" aria-label="size 3 select example">
                                            @foreach (var item in Model.Models)
                                            {
                                                <option data-id="@item.Id" id="brandOption" value="@item.Id">@item.Name</option>
                                            }
                                        </select>
                                        <span asp-validation-for="Model" class="text-danger"></span>
                                    </div>
                                </div>


                                @* Name *@
                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.Product.Name" class="form-label">Name</label>
                                        <input asp-for="@Model.Product.Name" type="text" class="form-control" placeholder=".........">
                                        <span asp-validation-for="@Model.Product.Name" class="text-danger"></span>
                                    </div>
                                </div>

                                @* Qiymət *@
                                <div class="col-3">
                                    <label asp-for="@Model.Product.Price" class="form-label">Qiymət</label>

                                    <div class="input-group input-group-merge">
                                        <span class="input-group-text" id="basic-addon-search31">₼</span>
                                        <input asp-for="@Model.Product.Price" class="form-control" placeholder="...." aria-label="Search..." aria-describedby="basic-addon-search31">
                                    </div>
                                    <span asp-validation-for="@Model.Product.Price" class="text-danger"></span>

                                </div>

                                @*Endirim Faizi  *@
                                <div class="col-3">
                                    <label asp-for="@Model.Product.DiscountPercent" class="form-label">Endirim Faizi</label>
                                    <div class="input-group input-group-merge">
                                        <span class="input-group-text" id="basic-addon-search31">%</span>
                                        <input asp-for="@Model.Product.DiscountPercent" class="form-control" placeholder="...." aria-label="Search..." aria-describedby="basic-addon-search31">
                                    </div>
                                    <span asp-validation-for="@Model.Product.DiscountPercent" class="text-danger"></span>
                                </div>

                                @* Bluetooth *@
                                <div class="col-3 d-flex align-items-center">
                                    <input class="form-check-input" asp-for="@Model.ProductParametr.Bluetooth" placeholder="...." /> @Html.DisplayNameFor(model => model.ProductParametr.Bluetooth)
                                    <span asp-validation-for="@Model.ProductParametr.Bluetooth" class="text-danger"></span>
                                </div>

                                @* Kamera *@
                                <div class="col-3 d-flex align-items-center">
                                    <input class="form-check-input" asp-for="@Model.ProductParametr.Kamera" placeholder="...." /> @Html.DisplayNameFor(model => model.ProductParametr.Kamera)
                                    <span asp-validation-for="@Model.ProductParametr.Kamera" class="text-danger"></span>
                                </div>

                                @* Colors *@
                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.Colors" class="form-label">Rəng</label>
                                        <select asp-for="@Model.ProductParametr.ColorId" class="form-select" size="3" aria-label="size 3 select example">
                                            @foreach (var item in Model.Colors)
                                            {
                                                <option value="@item.Id">@item.Name</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.Colors" class="text-danger"></span>
                                    </div>
                                </div>



                                @* OperationSystems *@
                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.OperationSystems" class="form-label">Əməliyyat sistemi</label>
                                        <select asp-for="@Model.ProductParametr.OperationSystemId" class="form-select" size="3" aria-label="size 3 select example">
                                            @foreach (var item in Model.OperationSystems)
                                            {
                                                <option value="@item.Id">@item.System</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.OperationSystems" class="text-danger"></span>
                                    </div>
                                </div>

                                @* ProcessorCaches *@
                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.ProcessorCaches" class="form-label">Processor Keşi</label>
                                        <select asp-for="@Model.ProductParametr.ProcessorCacheId" class="form-select" size="3" aria-label="size 3 select example">
                                            @foreach (var item in Model.ProcessorCaches)
                                            {
                                                <option value="@item.Id">@item.Cache</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.ProcessorCaches" class="text-danger"></span>
                                    </div>
                                </div>

                                @* ProcessorGhzs *@
                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.ProcessorGhzs" class="form-label">Processor Ghz</label>
                                        <select asp-for="@Model.ProductParametr.ProcessorGhzId" class="form-select" size="3" aria-label="size 3 select example">
                                            @foreach (var item in Model.ProcessorGhzs)
                                            {
                                                <option value="@item.Id">@item.Ghz</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.ProcessorGhzs" class="text-danger"></span>
                                    </div>
                                </div>
                                @* ProcessorModels *@

                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.ProcessorModels" class="form-label">Processor Model</label>
                                        <select asp-for="@Model.ProductParametr.ProcessorModelId" class="form-select" size="3" aria-label="size 3 select example">
                                            @foreach (var item in Model.ProcessorModels)
                                            {
                                                <option value="@item.Id">@item.Name</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.ProcessorModels" class="text-danger"></span>
                                    </div>
                                </div>
                                @* RamDDRs *@

                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.RamDDRs" class="form-label">Ram DDR</label>
                                        <select asp-for="@Model.ProductParametr.RamDDRId" class="form-select" size="3" aria-label="size 3 select example">
                                            @foreach (var item in Model.RamDDRs)
                                            {
                                                <option value="@item.Id">@item.DDR</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.RamDDRs" class="text-danger"></span>
                                    </div>
                                </div>
                                @* RamGB *@

                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.RamGBs" class="form-label">Ram GB</label>
                                        <select asp-for="@Model.ProductParametr.RamGBId" class="form-select" size="3" aria-label="size 3 select example">
                                            @foreach (var item in Model.RamGBs)
                                            {
                                                <option value="@item.Id">@item.GB</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.RamGBs class=" text-danger"></span>
                                    </div>
                                </div>
                                @* RamMhzs *@

                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.RamMhzs" class="form-label">Ram Mhz</label>
                                        <select asp-for="@Model.ProductParametr.RamMhzId" class="form-select" size="3" aria-label="size 3 select example">
                                            @foreach (var item in Model.RamMhzs)
                                            {
                                                <option value="@item.Id">@item.Mhz</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.RamMhzs" class="text-danger"></span>
                                    </div>
                                </div>
                                @* Diagonal *@

                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.ScreenDiagonals" class="form-label">Ekran Diaqonalı</label>
                                        <select asp-for="@Model.ProductParametr.ScreenDiagonalId" class="form-select" size="3" aria-label="size 3 select example">
                                            @foreach (var item in Model.ScreenDiagonals)
                                            {
                                                <option value="@item.Id">@item.Diagonal</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.ScreenDiagonals" class="text-danger"></span>
                                    </div>
                                </div>
                                @* ScreenFrequencies *@

                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.ScreenFrequencies" class="form-label">Ekran Tezliyi </label>
                                        <select asp-for="@Model.ProductParametr.ScreenFrequencyId" class="form-select" size="3" aria-label="size 3 select example">
                                            @foreach (var item in Model.ScreenFrequencies)
                                            {
                                                <option value="@item.Id">@item.Frequency</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.ScreenFrequencies" class="text-danger"></span>
                                    </div>
                                </div>
                                @* Teyinat *@

                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.Teyinats" class="form-label">Teyinati</label>
                                        <select asp-for="@Model.ProductParametr.TeyinatId" class="form-select" size="3" aria-label="size 3 select example">
                                            @foreach (var item in Model.Teyinats)
                                            {
                                                <option value="@item.Id">@item.Type</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.Teyinats" class="text-danger"></span>
                                    </div>
                                </div>
                                @* Videokart *@

                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.Videokarts" class="form-label">Videokart</label>
                                        <select asp-for="@Model.ProductParametr.VideokartId" class="form-select" size="3" aria-label="size 3 select example">
                                            @foreach (var item in Model.Videokarts)
                                            {
                                                <option value="@item.Id">@item.Name</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.Videokarts" class="text-danger"></span>
                                    </div>
                                </div>

                                @* VideokartRam *@
                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.VideokartRams" class="form-label">Videokart Ram</label>
                                        <select asp-for="@Model.ProductParametr.VideokartRamId" class="form-select" size="3" aria-label="size 3 select example">
                                            @foreach (var item in Model.VideokartRams)
                                            {
                                                <option value="@item.Id">@item.Ram</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.VideokartRams" class="text-danger"></span>
                                    </div>
                                </div>

                                @* Daxili Yaddaş *@
                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.ProductParametr.DaxiliYaddaşId" class="form-label">Daxili Yaddaş </label>
                                        <input class="form-check-input" asp-for="@Model.ProductParametr.DaxiliYaddaş.IsSSD" placeholder="...." /> @Html.DisplayNameFor(model => model.ProductParametr.DaxiliYaddaş.IsSSD)
                                        <input class="form-check-input" asp-for="@Model.ProductParametr.DaxiliYaddaş.IsHDD" placeholder="...." /> @Html.DisplayNameFor(model => model.ProductParametr.DaxiliYaddaş.IsHDD)
                                        <input type="hidden" value="128" asp-for="@Model.ProductParametr.DaxiliYaddaş.Cache" placeholder="...." />
                                        <span asp-validation-for="@Model.ProductParametr.DaxiliYaddaşId" class="text-danger"></span>
                                    </div>
                                </div>

                                @* Daxili Yaddas Hecm *@
                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.DaxiliYaddasHecms" class="form-label">Daxili Yaddas Hecms</label>
                                        <select asp-for="@Model.ProductParametr.DaxiliYaddaş.DaxiliYaddasHecmId" class="form-select" size="3" aria-label="size 3 select example">
                                            @foreach (var item in Model.DaxiliYaddasHecms)
                                            {
                                                <option value="@item.Id">@item.Cache</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.DaxiliYaddasHecms" class="text-danger"></span>
                                    </div>
                                </div>

                                @* SSD TYPE *@
                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.ProductParametr.DaxiliYaddaş.SSDTypeId" class="form-label">SSD Növü</label>
                                        <select asp-for="@Model.ProductParametr.DaxiliYaddaş.SSDTypeId" class="form-select" size="3" aria-label="size 3 select example">
                                            @foreach (var item in Model.SSDTypes)
                                            {
                                                <option value="@item.Id">@item.Type</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.ProductParametr.DaxiliYaddaş.SSDTypeId" class="text-danger"></span>
                                    </div>
                                </div>

                                @* GörüntüImkanı *@
                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.GörüntüImkanıs" class="form-label">Görüntü Imkanı</label>
                                        <select asp-for="@Model.ProductParametr.GörüntüImkanıId" class="form-select" size="3" aria-label="size 3 select example">
                                            @foreach (var item in Model.GörüntüImkanıs)
                                            {
                                                <option value="@item.Id">@item.Capability</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.GörüntüImkanıs" class="text-danger"></span>
                                    </div>
                                </div>

                                @* Description *@
                                <div class="col-6">
                                    <div>
                                        <label asp-for="@Model.Product.Description" class="form-label">Mehsulun Təsviri</label>
                                        <textarea style="max-height:250px;" maxlength="500" placeholder="........." asp-for="@Model.Product.Description" class="form-control" rows="3"></textarea>
                                        <span asp-validation-for="@Model.Product.Description" class="text-danger"></span>
                                    </div>
                                </div>

                                @* Poster Image *@
                                <div class="col-6">
                                    <label asp-for="@Model.Product.PosterImageFile" class="form-label">Poster Şəkli</label>
                                    <div class="input-group">
                                        <input asp-for="@Model.Product.PosterImageFile" type="file" class="form-control" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
                                        <span asp-validation-for="@Model.Product.PosterImageFile" class="text-danger"></span>
                                    </div>
                                </div>
                                @* ImageFiles *@

                                <div class="col-6">
                                    <label asp-for="@Model.Product.ImageFiles" class="form-label"> Məhsulun şəkilləri</label>
                                    <div class="input-group">
                                        <input multiple asp-for="@Model.Product.ImageFiles" type="file" class="form-control" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
                                        <span asp-validation-for="@Model.Product.ImageFiles" class="text-danger"></span>
                                    </div>
                                </div>



                                <div class="d-flex justify-content-end col-12">
                                    <button type="submit" class="btn btn-outline-primary mt-2">Yaratmaq</button>

                                </div>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- / Content -->
    <script>

        let select = document.querySelector(".select1 select");

        select.addEventListener('change', function handleChange(event) {

            var options = select.options[select.selectedIndex];

            var languageId = options.getAttribute('data-id');

            let select2 = document.querySelector(".select2 select");

            fetch("Home/GetSubject?languageId=" + languageId)
                .then(response => response.json())
                .then(data => {

                    console.log(data.length);

                    select2.innerHTML = "";

                    for (var i = 0; i < data.length; i++) {
                        const newOption = document.createElement("option");
                        newOption.value = data[i].id;
                        newOption.innerText = data[i].name;
                        select2.appendChild(newOption);
                    }
                })
        });
    </script>

    @*<script>
            var a, b;
            function catFunc() {
                a = document.getElementById("categorySelect");
                b = a.options[a.selectedIndex].value;

            }


        </script>*@

    <script>
        function filterFunction() {
            var input, filter, ul, li, a, i;
            input = document.getElementById('categoryOption');
            filter = input.value.toUpperCase();
            div = document.getElementById("categorySelect");
            a = div.getElementsByTagName('option');
            for (i = 0; i < a.length; i++) {
                txtValue = a[i].textContent || a[i].innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    a[i].style.display = '';
                } else {
                    a[i].style.display = 'none';
                }
            }
        }
    </script>


    <div class="content-backdrop fade"></div>
</div>

